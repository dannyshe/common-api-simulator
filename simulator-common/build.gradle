/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'buildlogic.java-conventions'
}

dependencies {
    // Spring 相关依赖
    api 'org.springframework:spring-web:6.0.13'
    api 'com.github.ulisesbocchio:jasypt-spring-boot-starter:3.0.5'

    // JSON 处理 - 更新 Jackson 相关依赖
    api 'com.fasterxml.jackson.core:jackson-core:2.15.3'
    api 'com.fasterxml.jackson.core:jackson-databind:2.15.3'
    api 'com.fasterxml.jackson.core:jackson-annotations:2.15.3'
    api 'com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.15.3'
    api 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.15.3'
    api 'com.alibaba:fastjson:2.0.40'
    api 'io.vavr:vavr-jackson:0.10.3'
    
    // 工具库
    api 'org.apache.commons:commons-lang3:3.13.0'
    api 'commons-collections:commons-collections:3.2.2'
    api 'commons-beanutils:commons-beanutils:1.9.4'
    api 'com.google.guava:guava:32.1.2-jre'
    
    // 验证相关
    api 'org.hibernate.validator:hibernate-validator:8.0.1.Final'
    
    // 日志和追踪
    api 'org.slf4j:slf4j-api:2.0.9'
    api 'io.jaegertracing:jaeger-core:1.8.1'
    api 'com.sensorsdata.analytics.javasdk:SensorsAnalyticsSDK:3.2.0'
    
    // HTTP 客户端
    api 'com.squareup.okhttp3:okhttp:4.11.0'
    
    // 测试相关
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.10.0'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.10.0'
    
    // 编译时依赖
    compileOnly 'jakarta.servlet:jakarta.servlet-api:6.0.0'  // 更新为 jakarta
    compileOnly 'org.projectlombok:lombok:1.18.30'
    annotationProcessor 'org.projectlombok:lombok:1.18.30'
}

tasks.withType(JavaCompile) {
    options.compilerArgs << '-Xlint:deprecation'
    options.compilerArgs << '-Xlint:unchecked'
}

tasks.named('test') {
    useJUnitPlatform()
}

description = 'simulator-common'
