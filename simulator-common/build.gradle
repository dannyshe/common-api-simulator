/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'buildlogic.java-conventions'
}

dependencies {
    // Spring 相关依赖
    api 'org.springframework:spring-web:5.3.22'
    api 'org.mybatis.spring.boot:mybatis-spring-boot-autoconfigure:2.0.1'
    api 'com.github.ulisesbocchio:jasypt-spring-boot-starter:3.0.4'
    
    // MyBatis 相关
    api 'org.mybatis:mybatis:3.4.6'
    
    // JSON 处理 - 更新 Jackson 相关依赖
    api 'com.fasterxml.jackson.core:jackson-core:2.13.3'
    api 'com.fasterxml.jackson.core:jackson-databind:2.13.3'
    api 'com.fasterxml.jackson.core:jackson-annotations:2.13.3'
    api 'com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.13.3'
    api 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.13.3'  // 添加这行
    api 'com.alibaba:fastjson:2.0.11'
    api 'io.vavr:vavr-jackson:0.10.3'
    
    // 工具库
    api 'org.apache.commons:commons-lang3:3.12.0'
    api 'commons-collections:commons-collections:3.2.2'
    api 'commons-beanutils:commons-beanutils:1.9.4'
    api 'com.google.guava:guava:31.1-jre'
    
    // 验证相关
    api 'org.hibernate.validator:hibernate-validator:6.2.3.Final'
    
    // 日志和追踪
    api 'org.slf4j:slf4j-api:1.7.36'
    api 'io.jaegertracing:jaeger-core:1.8.1'
    api 'com.sensorsdata.analytics.javasdk:SensorsAnalyticsSDK:3.2.0'
    
    // HTTP 客户端
    api 'com.squareup.okhttp3:okhttp:4.10.0'
    
    // 测试相关
    testImplementation 'org.jmockit:jmockit:1.16'
    testImplementation 'junit:junit:4.13.1'
    
    // 编译时依赖
    compileOnly 'javax.servlet:javax.servlet-api:4.0.1'
    compileOnly 'org.projectlombok:lombok:1.18.24'
    annotationProcessor 'org.projectlombok:lombok:1.18.24'
}

// 添加编译选项以处理警告
tasks.withType(JavaCompile) {
    options.compilerArgs << '-Xlint:deprecation'
    options.compilerArgs << '-Xlint:unchecked'
}

description = 'simulator-common'
